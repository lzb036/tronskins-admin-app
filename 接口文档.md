# TronSkins Admin API 接口文档

## 概述

本文档描述 TronSkins 后台管理系统的 API 接口规范，包括认证、用户管理、交易记录、工单管理、提现管理和应用更新等模块。

- **基础URL**: `https://www.tronskins.com`（可动态配置）
- **认证方式**: 双 Token 认证（Access Token + Refresh Token）
- **Content-Type**: `application/json`

---

## 通用规范

### 请求格式

所有 POST 请求的 body 为 JSON 格式：

```json
{
  "page": 1,
  "pageSize": 10,
  // 其他参数...
}
```

### 响应格式

所有接口返回统一格式：

```json
{
  "code": 0,          // 状态码：0 或 200 表示成功
  "message": "成功",  // 提示信息
  "datas": {}         // 响应数据（兼容 data 字段）
}
```

### 状态码参考

| 错误码 | 说明               |
| ------ | ------------------ |
| 0      | 成功               |
| 200    | 成功               |
| 400    | 请求参数错误       |
| 401    | 未授权，请重新登录 |
| 403    | 没有权限访问       |
| 404    | 请求的资源不存在   |
| 500    | 服务器内部错误     |
| 1001   | Token 无效         |

### 请求头说明

| 头名称                   | 说明                                                        |
| ------------------------ | ----------------------------------------------------------- |
| Content-Type             | 固定为 `application/json`                                   |
| X-Service-Authorization  | Access Token（直接传递 Token 值，不带 Bearer 前缀）            |
| Authorization            | 备用认证头（Bearer Token 格式：`Authorization: Bearer {token}`） |
| X-Device-Type            | 客户端类型（APP-PLUS 自动添加 `app`）                       |

### 认证说明

1. **登录接口响应** 返回 Access Token 信息（兼容旧字段）：
   ```json
   {
     "accessToken": "xxx",
     "accessTokenExpireTime": 1772009975000,
     "header": "X-Service-Authorization"
   }
   ```

2. **Refresh Token 存储**：服务端通过 `Set-Cookie` 写入 `HttpOnly Cookie`（前端 JS 不可读）

3. **Access Token 存储**：登录成功后，客户端存储：
   - `user_token`（Access Token）
   - `access_token_expire_time`（Access Token 过期时间）
   - `authHeader`（认证头名称）

4. **Token 使用**：后续请求使用 `X-Service-Authorization` 头直接传递 Access Token（不带 Bearer 前缀）

5. **自动续期**：请求前检测 Access Token 即将过期，或收到 `401/1001` 时自动调用 `POST /api/app/auth-manager/refresh` 刷新，刷新失败才跳转登录页

---

## 认证模块 (Auth)

### 1. 后台管理员登录

**接口**: `POST /api/app/auth-manager`

**请求参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| username | string | 是 | 用户名 |
| password | string | 是 | 密码 |
| rememberMe | boolean | 否 | 记住我（可选） |

**请求示例**:

```json
{
  "username": "admin",
  "password": "my123456"
}
```

**响应示例**:

```json
{
  "code": 0,
  "datas": {
    "accessToken": "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsInJvbGVzIjpbXSwiaXAiOiIxMTIuNDkuOTguMTgiLCJpYXQiOjE3Njg2NTA1MjcsImV4cCI6MTc2ODczNjkyN30.X3ldC_jVJMrl7Sc7R-nQRmVM8y3UoJHMUoJr4xmd8V8",
    "accessTokenExpireTime": 1772009975000,
    "tokenType": "Bearer",
    "header": "X-Service-Authorization",
    "userId": "140",
    "realName": "管理员",
    "verifyType": 0,
    "appUse": "esmarket"
  }
}
```

**响应字段说明**:

| 字段 | 类型 | 说明 |
|------|------|------|
| accessToken | string | Access Token（访问令牌） |
| accessTokenExpireTime | number | Access Token 过期时间（毫秒时间戳） |
| tokenType | string | Token 类型（通常为 `Bearer`） |
| token | string | 兼容旧字段（等价于 accessToken，可选） |
| header | string | 认证头名称 |
| userId | string | 用户ID |
| realName | string | 真实姓名 |
| verifyType | number | 验证类型 |
| appUse | string | 应用标识 |

---

### 1.1 刷新 Access Token

**接口**: `POST /api/app/auth-manager/refresh`

**请求参数**: 无

**认证说明**:

- 无需携带 Access Token
- 需要 `withCredentials: true`，由浏览器/客户端自动携带 HttpOnly Cookie 中的 Refresh Token

**请求示例**:

```json
{}
```

**响应示例**:

```json
{
  "code": 0,
  "datas": {
    "accessToken": "eyJhbGciOiJIUzI1NiJ9.new.token",
    "accessTokenExpireTime": 1772009975000,
    "tokenType": "Bearer",
    "header": "X-Service-Authorization"
  }
}
```

**响应字段说明**:

| 字段 | 类型 | 说明 |
|------|------|------|
| accessToken | string | 新的 Access Token |
| accessTokenExpireTime | number | 新 Token 过期时间（毫秒时间戳） |
| tokenType | string | Token 类型（通常为 `Bearer`） |
| header | string | 认证头名称（可选） |
| token | string | 兼容旧字段（可选） |

---

### 2. 退出登录

**接口**: `POST /api/mgr/auth/logout`

**请求参数**: 无

**请求示例**:

```json
{}
```

**响应示例**:

```json
{
  "code": 0,
  "message": "退出成功"
}
```

---

## 用户模块 (User)

### 3. 获取当前用户信息

**接口**: `POST /api/mgr/user/getUserInfo`

**请求参数**: 无

**请求头**: 需要携带 `X-Service-Authorization: {accessToken}`（或 `Authorization: Bearer {accessToken}`）

**响应示例**:

```json
{
  "code": 0,
  "datas": {
    "id": "140",
    "flag": true,
    "username": "admin",
    "email": "admin@tronskins.com",
    "authVerifyType": "google",
    "nickname": "管理员",
    "realname": "超级管理员",
    "initPwdChanged": true,
    "accountLocked": false,
    "roles": [
      {
        "id": "1",
        "name": "超级管理员",
        "code": "admin"
      }
    ]
  }
}
```

**响应字段说明**:

| 字段 | 类型 | 说明 |
|------|------|------|
| id | string | 用户ID |
| flag | boolean | 账号状态 |
| username | string | 用户名 |
| email | string | 邮箱 |
| nickname | string | 昵称 |
| realname | string | 真实姓名 |
| roles | array | 角色列表 |

---

## 提现模块 (Withdraw)

### 4. 获取提现记录列表

**接口**: `POST /api/mgr/gmall-user/withdraw/list`

**请求参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| page | number | 是 | 当前页码 |
| pageSize | number | 是 | 每页数量 |
| account | string | 否 | 账户地址（模糊搜索） |
| status | number | 否 | 状态筛选 |

**筛选状态值**:

| 状态值 | 说明 |
|--------|------|
| -3 | 已驳回 |
| -2 | 失败 |
| -1 | 已取消 |
| 0 | 待确认 |
| 1 | 处理中 |
| 2 | 确认中 |
| 3 | 已完成 |

**请求示例**:

```json
{
  "page": 1,
  "pageSize": 10,
  "account": "TDxvk",
  "status": 0
}
```

**响应示例**:

```json
{
  "code": 0,
  "datas": {
    "list": [
      {
        "id": "1001",
        "userId": "58",
        "userName": "test_user",
        "account": "TDxvkK6Y7Z...xQx",
        "status": 1,
        "statusName": "待处理",
        "createTime": "2025-01-15 10:30:00",
        "confirmTime": "",
        "amount": 150.00,
        "receiveAmount": 148.50,
        "showEmail": "test***@gmail.com",
        "addressLink": "https://tronscan.org/#/address/TDxvkK6Y7Z...",
        "tronLink": "https://tronscan.org/#/transaction/xxx",
        "netConsume": "15000",
        "energyUsageTotal": "25000",
        "trxTotalFee": 1.50
      }
    ],
    "pager": {
      "total": 25,
      "rp": 10,
      "current": 1,
      "pages": 3
    }
  }
}
```

**响应字段说明**:

| 字段 | 类型 | 说明 |
|------|------|------|
| id | string | 记录ID |
| userId | string | 用户ID |
| userName | string | 用户名 |
| account | string | 提现地址 |
| status | number | 状态：0-待确认，1-处理中，2-已完成，3-已驳回 |
| statusName | string | 状态名称 |
| amount | number | 提现金额 |
| receiveAmount | number | 实际到账金额 |
| netConsume | string | 网络消耗 |
| trxTotalFee | number | TRX 手续费 |

---

### 5. 确认提现

**接口**: `POST /api/mgr/gmall-user/withdraw/{id}/accept`

**路径参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| id | string | 是 | 提现记录ID |

**请求示例**:

```
POST /api/mgr/gmall-user/withdraw/1001/accept
```

**响应示例**:

```json
{
  "code": 0,
  "message": "操作成功"
}
```

---

### 6. 驳回提现

**接口**: `POST /api/mgr/gmall-user/withdraw/{id}/reject`

**路径参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| id | string | 是 | 提现记录ID |

**请求示例**:

```
POST /api/mgr/gmall-user/withdraw/1001/reject
```

**响应示例**:

```json
{
  "code": 0,
  "message": "已驳回该提现申请"
}
```

---

## 交易模块 (Trade)

### 7. 获取交易记录列表

**接口**: `POST /api/mgr/gmall-record/list`

**请求参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| page | number | 是 | 当前页码 |
| pageSize | number | 是 | 每页数量 |
| orderNo | string | 否 | 订单号（模糊搜索） |
| status | number | 否 | 交易状态筛选 |
| appId | number | 否 | 游戏应用筛选 |
| type | number | 否 | 交易类型筛选 |

**筛选状态值**:

| 状态值 | 说明 |
|--------|------|
| -2 | 已撤销 |
| -1 | 已取消 |
| 1 | 待付款 |
| 2 | 待发货 |
| 3 | 发货待确认 |
| 4 | 待接收 |
| 5 | 结算中 |
| 6 | 已完成 |
| 9 | 取消中 |

**游戏应用值**:

| appId | 游戏 |
|-------|------|
| 730 | CS2 |
| 440 | TF2 |
| 570 | DOTA 2 |

**交易类型值**:

| type | 说明 |
|------|------|
| 1 | 卖出 |
| 2 | 求购 |

**请求示例**:

```json
{
  "page": 1,
  "pageSize": 10,
  "orderNo": "2001",
  "status": 2,
  "appId": 730,
  "type": 1
}
```

**响应示例**:

```json
{
  "code": 0,
  "datas": {
    "list": [
      {
        "errors": [],
        "id": "2001",
        "flag": true,
        "offerId": "76561198012345678",
        "appId": 1,
        "appName": "CS2",
        "marketHashName": "AK-47 | Redline",
        "marketName": "AK-47 红线",
        "schemaId": "12345",
        "nums": 1,
        "type": 1,
        "status": 1,
        "cancelReason": 0,
        "cancelDesc": "",
        "buyer": "buyer123",
        "buyerName": "买家一号",
        "seller": "seller456",
        "sellerName": "卖家二号",
        "sellerSelfOwned": false,
        "createTime": "2025-01-15 12:00:00",
        "sendTime": "2025-01-15 12:05:00",
        "receiveTime": "2025-01-15 12:10:00",
        "endTime": "2025-01-15 12:15:00",
        "protectionTime": "2025-01-15 12:20:00",
        "price": 99.99,
        "realPrice": 95.00,
        "fee": 4.99,
        "score": 5
      }
    ],
    "pager": {
      "total": 100,
      "rp": 10,
      "current": 1,
      "pages": 10
    }
  }
}
```

**响应字段说明**:

| 字段 | 类型 | 说明 |
|------|------|------|
| id | string | 交易记录ID |
| offerId | string | Steam 报价ID |
| appId | number | 应用ID |
| marketHashName | string | 皮肤市场名称 |
| marketName | string | 皮肤中文名称 |
| type | number | 交易类型 |
| status | number | 状态：0-待处理，1-进行中，2-已完成，3-已取消 |
| price | number | 商品价格 |
| realPrice | number | 实际成交价 |
| fee | number | 手续费 |
| score | number | 评价分数 |

---

### 8. 获取物品详情列表

**接口**: `POST /api/mgr/gmall-record/details/list`

**请求参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| page | number | 是 | 当前页码 |
| pageSize | number | 是 | 每页数量 |
| recordId | string | 是 | 交易记录ID |
| appId | number | 是 | 应用ID |

**请求示例**:

```json
{
  "page": 1,
  "pageSize": 10,
  "recordId": "2001",
  "appId": 1
}
```

**响应示例**:

```json
{
  "code": 0,
  "datas": {
    "list": [
      {
        "errors": [],
        "id": "3001",
        "flag": true,
        "appId": 1,
        "appName": "CS2",
        "marketHashName": "AK-47 | Redline",
        "marketName": "AK-47 红线",
        "schemaId": "12345",
        "recordId": "2001",
        "itemId": "item_123",
        "assetId": "asset_456",
        "paintSeed": 123,
        "paintWear": 0.15,
        "status": 2,
        "cancelDesc": "",
        "stickers": [],
        "keychains": [],
        "price": 99.99,
        "score": 5,
        "realPrice": 95.00,
        "fee": 4.99
      }
    ],
    "pager": {
      "total": 1,
      "rp": 10,
      "current": 1,
      "pages": 1
    }
  }
}
```

**响应字段说明**:

| 字段 | 类型 | 说明 |
|------|------|------|
| itemId | string | 物品ID |
| assetId | string | 资产ID |
| paintSeed | number | 涂装种子 |
| paintWear | number | 磨损度 |
| stickers | array | 贴纸数组 |
| keychains | array | 钥匙链数组 |

---

### 9. 结算恢复

**接口**: `POST /api/mgr/gmall-record/{id}/settlement/resume`

**路径参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| id | string | 是 | 交易记录ID |

**响应示例**:

```json
{
  "code": 0,
  "message": "结算已恢复"
}
```

---

### 10. 结算同步

**接口**: `POST /api/mgr/gmall-record/{id}/settlement/sync`

**路径参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| id | string | 是 | 交易记录ID |

**响应示例**:

```json
{
  "code": 0,
  "message": "结算已同步"
}
```

---

### 11. 获取自营交易记录列表

**接口**: `POST /api/mgr/gmall-record/self/list`

**请求参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| page | number | 是 | 当前页码 |
| pageSize | number | 是 | 每页数量 |
| orderNo | string | 否 | 订单号（模糊搜索） |
| status | number | 否 | 交易状态筛选 |
| appId | number | 否 | 游戏应用筛选 |

**筛选状态值**:

| 状态值 | 说明 |
|--------|------|
| -2 | 已撤销 |
| -1 | 已取消 |
| 1 | 待付款 |
| 2 | 待发货 |
| 3 | 发货待确认 |
| 4 | 待接收 |
| 5 | 结算中 |
| 6 | 已完成 |
| 9 | 取消中 |

**游戏应用值**:

| appId | 游戏 |
|-------|------|
| 730 | CS2 |
| 440 | TF2 |
| 570 | DOTA 2 |

**请求示例**:

```json
{
  "page": 1,
  "pageSize": 10,
  "orderNo": "",
  "status": 2,
  "appId": 730
}
```

**响应示例**:

```json
{
  "code": 0,
  "datas": {
    "list": [...],
    "pager": {...}
  }
}
```

---

### 12. 取消交易

**接口**: `POST /api/mgr/gmall-record/{id}/cancel`

**路径参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| id | string | 是 | 交易记录ID |

**请求参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| code | number | 是 | 取消原因代码 |

**请求示例**:

```json
{
  "code": 1
}
```

**取消原因代码**:

| 代码 | 说明 |
|------|------|
| 1 | 买家未付款 |
| 2 | 物品不存在 |
| 3 | 价格错误 |
| 4 | 其他原因 |

**响应示例**:

```json
{
  "code": 0,
  "message": "交易已取消"
}
```

---

## 工单模块 (Ticket)

### 13. 获取工单列表

**接口**: `POST /api/mgr/gmall-ticket/list`

**请求参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| page | number | 是 | 当前页码 |
| pageSize | number | 是 | 每页数量 |
| steamId | string | 否 | Steam ID（模糊搜索） |
| status | string | 否 | 状态筛选 |
| isIgnore | boolean | 否 | 是否忽略 |

**筛选状态值**:

| 状态值 | 说明 |
|--------|------|
| 0 | 待回复 |
| 1 | 已回复 |
| 2 | 已解决 |
| 3 | 已关闭 |

**请求示例**:

```json
{
  "page": 1,
  "pageSize": 10,
  "steamId": "76561198",
  "status": "0",
  "isIgnore": false
}
```

**响应示例**:

```json
{
  "code": 0,
  "datas": {
    "list": [
      {
        "errors": [],
        "id": "5001",
        "flag": true,
        "title": "交易问题咨询",
        "context": "我在交易过程中遇到了问题...",
        "creator": "user123",
        "createName": "用户一号",
        "createTime": "2025-01-15 14:00:00",
        "status": 0,
        "statusName": "待回复",
        "isTech": false,
        "isIgnore": false,
        "steamId": "76561198012345678"
      }
    ],
    "pager": {
      "total": 15,
      "rp": 10,
      "current": 1,
      "pages": 2
    }
  }
}
```

**响应字段说明**:

| 字段 | 类型 | 说明 |
|------|------|------|
| id | string | 工单ID |
| title | string | 工单标题 |
| context | string | 工单内容 |
| status | number | 状态：0-待回复，1-已回复，2-已解决，3-已关闭 |
| statusName | string | 状态名称 |
| isTech | boolean | 是否技术支持 |
| isIgnore | boolean | 是否已忽略 |
| steamId | string | 关联的 Steam ID |

---

### 14. 启用技术支持

**接口**: `PUT /api/mgr/gmall-ticket/{ticketId}/technical/support`

**路径参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| ticketId | string | 是 | 工单ID |

**响应示例**:

```json
{
  "code": 0,
  "message": "技术支持已启用"
}
```

---

### 15. 取消技术支持

**接口**: `PUT /api/mgr/gmall-ticket/{ticketId}/technical/cancel`

**路径参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| ticketId | string | 是 | 工单ID |

**响应示例**:

```json
{
  "code": 0,
  "message": "技术支持已取消"
}
```

---

### 16. 忽略工单

**接口**: `PUT /api/mgr/gmall-ticket/{ticketId}/ignore`

**路径参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| ticketId | string | 是 | 工单ID |

**响应示例**:

```json
{
  "code": 0,
  "message": "工单已忽略"
}
```

---

### 17. 获取工单回复列表

**接口**: `POST /api/mgr/gmall-ticket/reply/list`

**请求参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| ticketId | string | 是 | 工单ID |
| page | number | 是 | 当前页码 |
| pageSize | number | 是 | 每页数量 |

**请求示例**:

```json
{
  "ticketId": "5001",
  "page": 1,
  "pageSize": 20
}
```

**响应示例**:

```json
{
  "code": 0,
  "datas": {
    "list": [
      {
        "id": "6001",
        "ticketId": "5001",
        "context": "这是我的回复内容",
        "isAdmin": true,
        "createName": "管理员",
        "createTime": "2025-01-15 15:30:00",
        "images": [
          "https://example.com/image1.jpg",
          "https://example.com/image2.jpg"
        ]
      }
    ],
    "pager": {
      "total": 5,
      "rp": 20,
      "current": 1,
      "pages": 1
    }
  }
}
```

**响应字段说明**:

| 字段 | 类型 | 说明 |
|------|------|------|
| id | string | 回复ID |
| ticketId | string | 所属工单ID |
| context | string | 回复内容 |
| isAdmin | boolean | 是否为管理员回复 |
| createName | string | 创建人名称 |
| createTime | string | 创建时间 |
| images | array | 附件图片URL数组 |

---

### 18. 上传工单回复图片

**接口**: `POST /api/mgr/gmall-ticket/reply/upload`

**请求类型**: `multipart/form-data`

**请求参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| file | File | 是 | 图片文件 |

**响应示例**:

```json
{
  "code": 0,
  "datas": "https://www.tronskins.com/uploads/ticket/20250115/image_123.jpg"
}
```

**响应字段说明**:

| 字段 | 类型 | 说明 |
|------|------|------|
| datas | string | 上传后的图片URL |

---

### 19. 添加工单回复

**接口**: `POST /api/mgr/gmall-ticket/reply/add`

**请求参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| ticketId | string | 是 | 工单ID |
| context | string | 是 | 回复内容 |
| images | string[] | 否 | 附件图片URL数组 |

**请求示例**:

```json
{
  "ticketId": "5001",
  "context": "已收到您的反馈，我们将尽快处理。",
  "images": [
    "https://www.tronskins.com/uploads/ticket/20250115/image_123.jpg"
  ]
}
```

**响应示例**:

```json
{
  "code": 0,
  "message": "回复成功"
}
```

---

## 应用更新模块 (App Update)

### 20. 检查应用更新

**接口**: `GET /api/public/app/checkupdate`

**请求参数**:

| 参数 | 类型 | 必填 | 说明 |
|------|------|------|------|
| appkey | string | 是 | 应用标识（`tronskins-admin-app`） |
| versionName | string | 是 | 当前版本号（如 `1.0.0`） |
| hotVersion | number | 是 | 热更新版本号（如 `2026012301`） |
| platform | string | 是 | 平台（`android` 或 `ios`） |

**请求示例**:

```
GET /api/public/app/checkupdate?appkey=tronskins-admin-app&versionName=1.0.0&hotVersion=2026012301&platform=android
```

**响应示例**:

```json
{
  "code": 0,
  "forwardUrl": "https://www.tronskins.com/update/app-v1.0.1.wgt",
  "packageUrl": "https://www.tronskins.com/download/app-v1.0.1.apk"
}
```

**响应字段说明**:

| 字段 | 类型 | 说明 |
|------|------|------|
| forwardUrl | string | 更新包地址（.wgt 为热更新包，.apk 为完整安装包） |
| packageUrl | string | APK 安装包下载地址（浏览器打开） |

**更新流程说明**:

1. 应用启动时自动调用此接口检查更新
2. 如果 `forwardUrl` 以 `.apk` 结尾，跳转浏览器下载完整安装包
3. 如果 `forwardUrl` 以 `.wgt` 结尾，下载热更新包并自动安装
4. 安装完成后提示用户重启应用

---

## 附录：TypeScript 类型定义

```typescript
// 通用响应
interface ApiResponse<T = unknown> {
  code: number | string
  data?: T
  message?: string
  msg?: string
}

// 分页器
interface Pager {
  total: number      // 总数量
  rp: number         // 每页数量
  current: number    // 当前页
  pages: number      // 总页数
}

// 登录参数
interface LoginParams {
  username: string
  password: string
  rememberMe?: boolean
}

// 登录响应
interface LoginResponse {
  token?: string
  accessToken?: string
  accessTokenExpireTime?: number
  tokenType?: string
  header?: string
  userId?: string
  realName?: string
  verifyType?: number
  appUse?: string
}

// 刷新响应
interface RefreshTokenResponse {
  token?: string
  accessToken?: string
  accessTokenExpireTime?: number
  tokenType?: string
  header?: string
}

// 管理员信息
interface AdminUserInfo {
  id: string
  flag: boolean
  username: string
  email: string
  authVerifyType: string
  nickname: string
  realname: string
  initPwdChanged: boolean
  accountLocked: boolean
  roles: UserRole[]
}

interface UserRole {
  id: string
  name: string
  code: string
}

// 提现记录
interface WithdrawRecord {
  id: string
  userId: string
  userName: string
  account: string
  status: number
  statusName: string
  createTime: string
  confirmTime?: string
  amount: number
  receiveAmount: number
  showEmail: string
  addressLink: string
  tronLink?: string
  netConsume?: string
  energyUsageTotal?: string
  trxTotalFee?: number
}

// 交易记录
interface TradeRecord {
  errors: string[]
  id: string
  flag: boolean
  offerId?: string
  appId: number
  appName: string
  marketHashName: string
  marketName: string
  schemaId: string
  nums: number
  type: number
  status: number
  cancelReason?: number
  cancelDesc?: string
  buyer: string
  buyerName: string
  seller: string
  sellerName: string
  sellerSelfOwned: boolean
  createTime: string
  sendTime?: string
  receiveTime?: string
  endTime?: string
  protectionTime?: string
  price: number
  realPrice: number
  fee: number
  score: number
}

// 物品详情
interface TradeItemDetail {
  errors: string[]
  id: string
  flag: boolean
  appId: number
  appName: string
  marketHashName: string
  marketName: string
  schemaId: string
  recordId: string
  itemId: string
  assetId: string
  paintSeed?: number
  paintWear?: number
  status: number
  cancelDesc?: string
  stickers: any[]
  keychains: any[]
  price: number
  score: number
  realPrice: number
  fee: number
}

// 工单记录
interface TicketRecord {
  errors: string[]
  id: string
  flag: boolean
  title: string
  context: string
  creator: string
  createName: string
  createTime: string
  status: number
  statusName: string
  isTech: boolean
  isIgnore: boolean
  steamId?: string
}

// 工单回复
interface TicketReply {
  id: string
  ticketId: string
  context: string
  isAdmin: boolean
  createName: string
  createTime: string
  images: string[]
}

// 工单列表参数
interface TicketListParams {
  page: number
  pageSize: number
  steamId?: string
  status?: string
  isIgnore?: boolean
}

// 工单回复列表参数
interface TicketReplyListParams {
  ticketId: string
  page: number
  pageSize: number
}

// 工单回复添加参数
interface TicketReplyAddParams {
  ticketId: string
  context: string
  images?: string[]
}
```
